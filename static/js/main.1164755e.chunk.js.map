{"version":3,"sources":["API.js","Utils.js","App.js","serviceWorker.js","index.js"],"names":["host","fetchRequest","url","params","timeout","isTimeout","Promise","resolve","reject","TO","setTimeout","Error","fetch","then","res","clearTimeout","catch","e","API","str","method","headers","body","JSON","stringify","text","json","response","title","content","payload","Utils","isKanji","c","num","charCodeAt","isHiragana","isAlpha","isNumber","isPureAlpha","s","i","length","isPureHiragana","isPureKanji","hasKanji","theme","createMuiTheme","palette","primary","main","cyan","App","init","a","checkServerAlive","setState","loading","message","first","handleChange","event","source","target","value","query","ary","state","split","paragraph","push","map","it","dictionary","indexOf","select","j","undefined","selectedPointer","wordInfo","dialogOpen","window","history","pushState","noBackExitsApp","format","paragraphIdx","wordIdx","cls","key","className","style","display","onClick","open","okuriganToFurigana","okurigana","furigana","isFuriganaPart","substr","idx","placeholder","self","this","addEventListener","back","paragraphs","t","isPrintMode","queryString","parse","location","search","Container","fixed","flexDirection","ThemeProvider","noValidate","autoComplete","marginTop","TextField","fullWidth","label","multiline","rows","variant","onChange","InputProps","startAdornment","InputAdornment","position","justifyContent","Button","color","disabled","CircularProgress","size","top","left","marginLeft","PrintContainer","FullScreenDialog","onClose","addBookmark","onSave","rangeStart","Math","max","rangeEnd","min","report","slice","Snackbar","autoHideDuration","anchorOrigin","vertical","horizontal","severity","elevation","React","Component","props","useState","fontSize","setFontSize","lineHeight","setLineHeight","warning","setWarning","ganaVisiable","setGanaVisiable","openSnack","margin","chrome","fontFamily","toFixed","flex","Visibility","VisibilityOff","Print","print","join","marginBottom","Transition","forwardRef","ref","Slide","direction","validateOkurigana","count","setOkurigana","setDictionary","bookmarkIcon","BookmarkBorder","Bookmark","Dialog","fullScreen","onExited","TransitionComponent","AppBar","Toolbar","IconButton","edge","aria-label","Close","Typography","FindInPage","List","component","ListItem","defaultValue","error","helperText","endAdornment","ReportButton","visibility","reportButtonTheme","secondary","orange","startIcon","Boolean","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","console"],"mappings":"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","file":"static/js/main.1164755e.chunk.js","sourcesContent":["\nconst host = \"https://furigana-lychee.herokuapp.com/\";\n// const host = \"http://localhost:8080/\"\n\nconst fetchRequest = (url, params={}, timeout=10000) => {\n    let isTimeout = false;\n    return new Promise(function(resolve, reject) {\n        const TO = setTimeout(function() {\n            isTimeout = true;\n            reject(new Error('Fetch timeout'));\n        }, timeout);\n\n        fetch(url, params)\n            .then(res => {\n                clearTimeout(TO)\n                if(!isTimeout) {\n                    resolve(res)\n                }\n            }).catch(e => {\n                if( isTimeout ){\n                    return\n                }\n                reject(e)\n            })\n    })\n}\n\nclass API {\n    \n    static async checkServerAlive() {\n        try {\n            await fetchRequest(host, null, 1500);\n            return true\n        } catch(e) {\n            return false\n        }\n    }\n\n    static async query(str) {\n        try {\n            const response = await fetch(host, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Accept': 'application/json'\n                },\n                body: JSON.stringify({text: str}),\n            }).then(res => res.json());\n            return response;\n        } catch(e) {\n            return []\n        }\n    }\n\n    static async report(title, content, payload) {\n        const response = await fetch(`${host}/report`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                text: `${title}: \\`${content}\\`\\n\\`\\`\\`${payload}\\`\\`\\``\n            }),\n        }).then(res => res.text());\n        return response;\n    }\n}\n\nexport default API","class Utils {\n    static isKanji = (c) => {\n        let num = c.charCodeAt(0)\n        return (num >= 0x4E00 && num <= 0x9FFF) || c === '々'　|| c === 'ヶ'　|| c === 'ヵ'\n    }\n    static isHiragana = (c) => {\n        let num = c.charCodeAt(0)\n        return num >= 12353 && num <= 12438\n    }\n    static isAlpha = (c) => {\n        let num = c.charCodeAt(0)\n        return num >= 65 && num <= 122\n    }\n    static isNumber = (c) => {\n        let num = c.charCodeAt(0)\n        return num >= 48 && num <= 57\n    }\n    static isPureAlpha = (s) => {\n        for(let i = 0; i < s.length; i++){\n            if(!Utils.isAlpha(s[i])){\n                return false\n            }\n        }\n        return true;\n    }\n\n    static isPureHiragana = (s) => {\n        for(let i = 0; i < s.length; i++){\n            if(!Utils.isHiragana(s[i])){\n                return false\n            }\n        }\n        return true;\n    }\n    \n    static isPureKanji = (s) => {\n        for(let i = 0; i < s.length; i++){\n            if(!Utils.isKanji(s[i])){\n                return false\n            }\n        }\n        return true;\n    }\n\n    static hasKanji = (s) => {\n        for(let i = 0; i < s.length; i++){\n            if(Utils.isKanji(s[i])){\n                return true\n            }\n        }\n        return false;\n    }\n}\n\nexport default Utils","import React from 'react';\nimport { TextField, Button, Container, Dialog, AppBar, Toolbar, IconButton, Typography, List, ListItem, Slide, ThemeProvider, InputAdornment, CircularProgress, Snackbar } from '@material-ui/core';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport {cyan, orange} from '@material-ui/core/colors';\nimport {Close as CloseIcon, FindInPage as FindInPageIcon, Bookmark as BookmarkIcon, BookmarkBorder as BookmarkBorderIcon, InfoRounded as InfoIcon, AddCircleOutline as AddIcon, RemoveCircleOutline as RemoveIcon, Print as PrintIcon, Visibility, VisibilityOff} from '@material-ui/icons';\nimport './App.css';\nimport API from './API';\nimport Utils from './Utils';\nimport queryString from 'query-string'\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: cyan[700],\n    },\n  },\n});\n\nexport default class App extends React.Component {\n  constructor() {\n    super()\n    this.state = {\n      source: \"\",\n      paragraph: [],\n      wordInfo: null,\n      dialogOpen: false,\n      loading: true,\n      message: \"\"\n    }\n    this.placeholder = \"ここで文章を入力して右下のボタンをクリックしてください。\";\n    this.selectedPointer = [0, 0];\n    this.first = true\n  }\n\n  init = async() => {\n    let ans = await API.checkServerAlive();\n    if(ans) {\n      this.setState({loading: false});\n      this.setState({message: \"\"});\n    } else {\n      if(this.first) {\n        this.setState({message: \"系統啟動中，約30秒，請稍待。在此期間您仍然可以繼續輸入文章。\"});\n        this.first = false\n      }\n      this.setState({loading: true});\n      setTimeout(() => {\n        this.init();\n      }, 3000);\n    }\n  }\n\n  handleChange = (event) => {\n    this.setState({source: event.target.value});\n  }\n\n  query = async() => {\n    this.setState({loading: true});\n    let ary = this.state.source.split('\\n');\n    \n    let paragraph = [];\n    for(let i = 0; i < ary.length; i++) {\n      if(ary[i].length === 0) {\n        paragraph.push([]);\n      } else {\n        let res = await API.query(ary[i]);\n        res = res.map(it => {\n          let dictionary = it['語彙素'];\n          if(it['品詞'][1] === \"固有名詞\" && Utils.hasKanji(it['基本形'][0])) {\n            dictionary = it['基本形'][0];\n          }\n          if(it['語彙素'].indexOf('-') > 0) {\n            dictionary = it['語彙素'].split('-')[0];\n          }\n          \n          it['dictionary'] = dictionary;\n          return it;\n        })\n        paragraph.push(res);\n      }\n    }\n    // console.log(paragraph)\n    this.setState({\n      loading: false,\n      paragraph: paragraph\n    });\n  }\n\n  componentDidMount() {\n    const self = this;\n    window.addEventListener('popstate', function(event) {\n      // console.log(self.state);\n      if(self.state.dialogOpen) {\n        self.setState({dialogOpen: false});\n      } else {\n        window.history.back();\n      }\n    });\n    this.init();\n  }\n\n  select = async(i, j) => {\n    if(i === undefined || j === undefined ) return;\n    this.selectedPointer = [i, j];\n    let wordInfo = this.state.paragraph[i][j];\n    // console.log(wordInfo);\n    this.setState({\n      wordInfo: wordInfo,\n      dialogOpen: true\n    });\n    window.history.pushState({ noBackExitsApp: true }, '')\n  }\n\n  format = (wordInfo, paragraphIdx, wordIdx) => {\n    let clickable = true;\n    let cls = clickable ? 'clickable' : '';\n    if(wordInfo['bookmark']) {\n      cls += ' bookmark'\n    }\n\n    return <div key={wordIdx} className={cls} style={{display: 'inline-block'}} onClick={e => {\n      if(clickable) {\n        // this.select(paragraphIdx, wordIdx);\n        window.open(`https://dictionary.goo.ne.jp/srch/jn/${wordInfo['dictionary']}/m1u`)\n      }\n    }}>\n      {this.okuriganToFurigana(wordInfo['okurigana'])}\n    </div>\n  }\n\n  okuriganToFurigana = (okurigana) => {\n    if(!okurigana){\n      return [];\n    }\n    let str = \"\";\n    let furigana = \"\";\n    let isFuriganaPart = false;\n    let ary = [];\n    for(let i = 0; i < okurigana.length; i++) {\n      let c = okurigana[i];\n      if(c === '(') {\n        isFuriganaPart = true;\n      } else if(c === ')') {\n        ary.push([str, furigana]);\n        furigana = \"\";\n        str = \"\";\n        isFuriganaPart = false;\n      } else {\n        if(isFuriganaPart) {\n          furigana += c;\n        } else {\n          if(str.length > 0 && !Utils.isHiragana(c) && Utils.isHiragana(str.substr(-1))) {\n            ary.push([str, furigana]);\n            furigana = \"\";\n            str = c;\n          } else {\n            str += c;\n          }\n        }\n      }\n    }\n    ary.push([str, furigana]);\n    return ary.map((it, idx) => {\n      let str = it[0];\n      let furigana = it[1];\n      if(!furigana) furigana = '\\u00A0';\n      return(\n        <div key={idx} style={{display: 'inline-block'}}>\n          <div className=\"furigana\">{furigana}</div>\n          <div className=\"surface\">{str}</div>\n        </div>\n      )\n    });\n  }\n\n  render() {\n    let paragraphs = [];\n    for(let i = 0; i < this.state.paragraph.length; i++) {\n      let t = this.state.paragraph[i].map((e, j) => this.format(e, i, j));\n      paragraphs.push(t);\n    }\n    const queryParameter = queryString.parse(window.location.search);\n    let isPrintMode = false;\n    if(queryParameter['preview']) {\n      isPrintMode = true\n    }\n    \n    return (\n    <div>\n      <Container fixed style={{display: \"flex\", flexDirection: 'column'}}>\n        <ThemeProvider theme={theme}>\n          <form noValidate autoComplete=\"off\" style={{marginTop: 24}}>\n            <TextField\n              placeholder={this.placeholder}\n              fullWidth={true}\n              label=\"文章入力\"\n              multiline={true}\n              rows={6}\n              variant=\"outlined\"\n              value={this.state.source} onChange={this.handleChange}\n              InputProps={{\n                startAdornment: <InputAdornment position=\"start\"></InputAdornment>\n              }}\n            />\n            <div style={{display:'flex', justifyContent:'flex-end'}}>\n              <div style={{position: 'relative'}}>\n                <Button \n                  color=\"primary\" \n                  disabled={this.state.loading}\n                  onClick={e => this.query()}>\n                    振り仮名\n                </Button>\n                {this.state.loading && <CircularProgress size={24} style={{position: 'absolute', top: '50%', left: '50%', marginTop: -12, marginLeft:-12, color: cyan[700]}}/>}\n              </div>\n            </div>\n          </form>\n        </ThemeProvider>\n      </Container>\n\n      <PrintContainer fixed style={{display: \"flex\"}} isPrintMode={isPrintMode} paragraphs={paragraphs}/>\n\n      <ThemeProvider theme={theme}>\n        <FullScreenDialog\n          wordInfo={this.state.wordInfo}\n          dialogOpen={this.state.dialogOpen}\n          onClose={() => this.setState({dialogOpen: false})}\n          addBookmark={(value) => {\n            const wordInfo = this.state.wordInfo;\n            wordInfo['bookmark'] = value;\n            this.setState({wordInfo: wordInfo});\n          }}\n          onSave={(okurigana, dictionary) => {\n            const wordInfo = this.state.wordInfo;\n            \n            if(okurigana.length !== 0 && okurigana !== wordInfo['okurigana']){\n              let paragraphIdx = this.selectedPointer[0];\n              let wordIdx = this.selectedPointer[1];\n              let rangeStart = Math.max(wordIdx - 1, 0);\n              let rangeEnd = Math.min(wordIdx + 2, this.state.paragraph[paragraphIdx].length);\n              API.report(\"送り仮名修正\", okurigana, JSON.stringify(\n                this.state.paragraph[paragraphIdx].slice(rangeStart, rangeEnd))\n              )\n            }\n            if(dictionary.length !== 0 && dictionary !== wordInfo['dictionary']){\n              let paragraphIdx = this.selectedPointer[0];\n              let wordIdx = this.selectedPointer[1];\n              let rangeStart = Math.max(wordIdx - 1, 0);\n              let rangeEnd = Math.min(wordIdx + 2, this.state.paragraph[paragraphIdx].length);\n              API.report(\"字典修正\", dictionary, JSON.stringify(\n                this.state.paragraph[paragraphIdx].slice(rangeStart, rangeEnd))\n              )\n            }\n\n            wordInfo['okurigana'] = okurigana;\n            wordInfo['dictionary'] = dictionary;\n            this.setState({\n              wordInfo: wordInfo,\n              paragraph: this.state.paragraph,\n              dialogOpen: false\n            })\n          }}\n        />\n      </ThemeProvider>\n      <Snackbar \n            open={this.state.message.length != 0}\n            autoHideDuration={10 * 1000}\n            anchorOrigin={{ vertical: 'top', horizontal: 'center'}}\n            onClose={e => this.setState({message: \"\"})}\n            >\n            <MuiAlert \n              severity=\"info\"\n              elevation={6} \n              variant=\"filled\"\n              onClose={e => this.setState({message: \"\"})}>\n              {this.state.message}\n            </MuiAlert>\n               \n          </Snackbar>\n    </div>\n    )\n  }\n}\n\nfunction PrintContainer(props) {\n  const [fontSize, setFontSize] = React.useState(12);\n  const [lineHeight, setLineHeight] = React.useState(14);\n  const [paragraphSpace, setParagraphSpace] = React.useState(10);\n  const [warning, setWarning] = React.useState(\"\");\n  const [ganaVisiable, setGanaVisiable] = React.useState(true);\n\n  const openSnack = warning.length !== 0;\n  if(props.isPrintMode) {\n    return (\n      <div style={props.style}>\n        <ThemeProvider theme={theme}>\n          <div style={{display:'flex', margin: '16px auto'}}>\n            <div>\n              <div className=\"pageContentSetting\">\n                <div>\n                  字體大小：\n                  <RemoveIcon onClick={e => {\n                    if(fontSize === 12 && window.chrome) {\n                      setWarning(\"Chrome 有最小字體限制，如在意列印品質，請改用Firefox或是Safari瀏覽器。\");\n                      setTimeout(() => setWarning(\"\"), 5000);\n                    }\n                    setFontSize(fontSize - 0.5);\n                  }}/>\n                    <div style={{fontFamily:'monospace', fontSize: '12pt'}}>{fontSize.toFixed(1)}pt</div>\n                  <AddIcon onClick={e => setFontSize(fontSize + 0.5)}/>\n                </div>\n                <div>\n                  行高：\n                  <RemoveIcon onClick={e => {\n                    setLineHeight(lineHeight - 1);\n                  }}/>\n                    <div style={{fontFamily:'monospace', fontSize: '12pt'}}>{lineHeight}px</div>\n                  <AddIcon onClick={e => setLineHeight(lineHeight + 1)}/>\n                </div>\n                <div style={{flex: '1 1 0'}}/>\n                <div onClick={e => setGanaVisiable(!ganaVisiable)}>\n                  {ganaVisiable ? <Visibility/> : <VisibilityOff/>}\n                </div>\n                <div>\n                  <PrintIcon onClick={e => window.print()}/>\n                </div>\n              </div>\n              <div className={['content', props.isPrintMode ? 'a4' : '', ganaVisiable ? '' : 'furiganaHidden'].join(' ')}>\n                <div style={{fontSize: `${fontSize}pt`}}>\n                  <div>{props.paragraphs.map((e,idx) => <div key={idx} className=\"paragraph\" style={{lineHeight: `${lineHeight}px`}}>{e}</div>)}</div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <Snackbar \n            open={openSnack}\n            autoHideDuration={5 * 1000}\n            anchorOrigin={{ vertical: 'top', horizontal: 'center'}}\n            >\n            <MuiAlert \n              severity=\"warning\"\n              elevation={6} \n              variant=\"filled\"\n              onClose={e => setWarning(\"\")}>\n              {warning}\n            </MuiAlert>\n               \n          </Snackbar>\n        </ThemeProvider>\n      </div>\n    )\n  }\n  else {\n    return (\n      <Container fixed style={props.style}>\n        <ThemeProvider theme={theme}>\n          <div className={['content']}>\n            {props.paragraphs.length !== 0 ? <div style={{fontSize: 8, marginBottom: 8}}>點選單字可以查詢字典</div> : <div></div>}\n            <div>{props.paragraphs.map((e,idx) => <div key={idx} className=\"paragraph\">{e}</div>)}</div>\n          </div>\n        </ThemeProvider>\n      </Container>\n    )\n  }\n}\n\nconst Transition = React.forwardRef(function Transition(props, ref) {\n  return <Slide direction=\"up\" ref={ref} {...props} />;\n});\nconst validateOkurigana = (okurigana) => {\n  let count = 0\n  for(let i = 0; i < okurigana.length; i++) {\n    if(okurigana[i] === '('){\n      count++;\n      if(count !== 1) {\n        break;\n      }\n    } else if(okurigana[i] === ')') {\n      count--;\n    }\n  }\n  return count === 0;\n}\n\nfunction FullScreenDialog(props) {\n  \n  let wordInfo = props.wordInfo;\n  // console.log(wordInfo);\n  const [okurigana, setOkurigana] = React.useState(\"\");\n  const [dictionary, setDictionary] = React.useState(\"\");\n  \n  if(wordInfo == null) {\n    return <div></div>\n  }\n\n  let bookmarkIcon = (<BookmarkBorderIcon/>)\n  \n  if(wordInfo['bookmark']) {\n    bookmarkIcon = <BookmarkIcon/>\n  }\n\n  return (\n    <Dialog\n        fullScreen={true}\n        open={props.dialogOpen}\n        onExited={e => {\n          setOkurigana(\"\");\n          setDictionary(\"\");\n        }}\n        TransitionComponent={Transition}\n      >\n      <AppBar position=\"relative\">\n        <Toolbar>\n          < IconButton edge=\"start\" color=\"inherit\" onClick={() => props.onClose()}\n            aria-label=\"close\">\n            <CloseIcon />\n          </IconButton>\n          <Typography variant=\"h6\" style={{flex:1}}>\n            {wordInfo['surface']}\n          </Typography>\n          <IconButton edge=\"start\" color=\"inherit\" onClick={() => props.addBookmark(!wordInfo['bookmark'])} aria-label=\"close\">\n            {bookmarkIcon}\n          </IconButton>\n          <IconButton edge=\"start\" color=\"inherit\" onClick={() => window.open(`https://www.weblio.jp/content/${dictionary ? dictionary : wordInfo['dictionary']}`)} aria-label=\"close\">\n            <FindInPageIcon />\n          </IconButton>\n        </Toolbar>\n      </AppBar>\n      <Container fixed>\n        <List component=\"nav\">\n          <ListItem> \n            <TextField\n              fullWidth={true}\n              label=\"活用\"\n              disabled\n              defaultValue={`${wordInfo['品詞'][0]}, ${wordInfo['活用型'][0]}`}\n            />\n          </ListItem>\n          <ListItem> \n            <TextField\n              error={!validateOkurigana(okurigana)}\n              helperText={validateOkurigana(okurigana) ? \" \" : \"格式錯誤\"}\n              fullWidth={true}\n              label=\"送り仮名\"\n              defaultValue={wordInfo['okurigana']}\n              onChange={(e) => setOkurigana(e.target.value)}\n              InputProps={{\n                endAdornment: \n                  <ReportButton\n                    visibility={false && okurigana.length !== 0 && okurigana !== wordInfo['okurigana']}\n                    onClick={() => {}}\n                  />\n              }}\n            />\n          </ListItem>\n          <ListItem> \n            <TextField\n              fullWidth={true}\n              label=\"辞書\"\n              defaultValue={wordInfo['dictionary']}\n              onChange={(e) => setDictionary(e.target.value)}\n              InputProps={{\n                endAdornment: \n                  <ReportButton\n                    visibility={false && dictionary.length !== 0 && dictionary !== wordInfo['dictionary']}\n                    onClick={() => {}}\n                  />\n              }}\n            />\n          </ListItem>\n          {/* <ListItem style={{display:'flex', justifyContent:'flex-end'}}>\n            <Button color=\"primary\" onClick={() => {\n              if(!validateOkurigana(okurigana)) {\n                return;\n              }\n              \n              props.onSave(\n                okurigana ? okurigana : wordInfo['okurigana'], \n                dictionary ? dictionary : wordInfo['dictionary']\n              )\n            }}>更新</Button>\n          </ListItem> */}\n        </List>\n      </Container>\n    </Dialog>\n  );\n}\n\nconst reportButtonTheme = createMuiTheme({\n  palette: {\n    secondary: {\n      main: orange[500],\n    },\n  },\n});\n\nfunction ReportButton(props) {\n  return <ThemeProvider theme={reportButtonTheme}>\n    <InputAdornment position=\"end\">\n      {props.visibility ? <Button onClick={props.onClick} color=\"secondary\" startIcon={<InfoIcon />}>回報錯誤</Button> : <div/>}\n    </InputAdornment>\n  </ThemeProvider>\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}